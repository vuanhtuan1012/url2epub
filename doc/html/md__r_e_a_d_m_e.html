<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>url2epub: url2epub</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">url2epub
   &#160;<span id="projectnumber">1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">url2epub </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a tool for creating a ebook in epub format from an url.</p>
<p>Supported sites:</p><ul>
<li><a href="https://vnthuquan.net/">vnthuquan.net</a></li>
<li><a href="https://truyenfull.vn/">truyenfull.vn</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md13"></a>
Usage</h1>
<div class="fragment"><div class="line">python crawl.py [-h] [-d] [-l] [-o OUTPUT_DIR] [-c COVER] [-p PUBLISHER] [-s START] [-i LIMIT] url</div>
</div><!-- fragment --><ul>
<li><code>-h</code>: display help</li>
<li><code>-d</code>: enable debug mode. Default: disabled</li>
<li><code>-l</code>: disable logging mode. Default: enabled</li>
<li><code>-o</code>: path to output directory. Default: <code>url2epub</code> inside current directory</li>
<li><code>-c</code>: path to the cover of story. Default: empty string</li>
<li><code>-p</code>: the name of the publisher of story. Default: empty string</li>
<li><code>-s</code>: chapter index to start crawl. Default: crawl from the first chapter</li>
<li><code>-i</code>: limit total chapters to crawl. Default: 0 - no limit</li>
<li><code>url</code>: the url of story</li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
Cover</h1>
<ul>
<li>The longest side of cover image is <b>at least 500px</b>.</li>
<li>The <b>ideal aspect ratio</b> is 1.6</li>
<li>The aspect ratio of <b>kindle Oasis 2</b> is 1.33</li>
<li>Use <a href="https://calibre-ebook.com/">calibre</a> to keep cover image:<ul>
<li>connecte your kindle to computer</li>
<li>open Calibre then import the created ebook (epub file) to it.</li>
<li>select your ebook, then click on <b>Send to device</b> in menu.</li>
<li>select format <b>azw3</b> to send the ebook to your kindle.</li>
<li>eject device, turn on wifi of your kindle, waiting for cover disappear</li>
<li>reconnect your kindle to PC, and use Calibre to eject it.</li>
</ul>
</li>
</ul>
<blockquote class="doxtable">
<p>If the cover image does not appear:</p><ul>
<li>Check the size of cover image.</li>
<li>Try to use another format of this image. </li>
</ul>
</blockquote>
<h1><a class="anchor" id="autotoc_md15"></a>
Resources</h1>
<ul>
<li><a href="https://www.ebookit.com/tools/bp/Bo/eBookIt/epub-validator">Epub Validator</a></li>
<li><a href="http://validator.idpf.org/">EPUB Validator (beta)</a></li>
<li><a href="https://validator.w3.org/nu/#file">XHTML Validator</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md16"></a>
Shell scrapy</h1>
<div class="fragment"><div class="line">scrapy shell [url]</div>
</div><!-- fragment --><ol type="1">
<li>Display help</li>
</ol>
<div class="fragment"><div class="line">shelp()</div>
</div><!-- fragment --><ol type="1">
<li>Do a POST request</li>
</ol>
<div class="fragment"><div class="line">req = scrapy.FormRequest(url=[new_url], formdata=[your_data])</div>
<div class="line">fetch(req)</div>
</div><!-- fragment --><ol type="1">
<li>Fetch a new url</li>
</ol>
<div class="fragment"><div class="line">fetch(new_url)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17"></a>
Miscellaneity</h1>
<p>Kindles want three objects to be tagged:</p>
<p>1) The cover IMAGE (not the page) 2) The text TOC 3) The Starting position.</p>
<p>Actually you can create an AZW/mobi from an ePub without these and it will work, but better to make it happy.</p>
<p>You can do this in Sigil by right-clicking on the file list and choosing "Add semantics".</p>
<p>1) For the cover PAGE you can tag it "Cover" but you must also be sure that the cover IMAGE is tagged "Cover Image" &ndash; may be already done if you used the "Add cover" tool.</p>
<p>2) The TOC choose "Table of Contents" (again, will be set if you used the "Create HTML TOC" tool)</p>
<p>3) The Start page &ndash; for this choose "Text" (presumably meaning the first page of text). I usually use the title page as the Start page. Amazon tells you to use Chapter 1, so do that if you're submitting to them. You cannot use the Cover, however, as Kindles do not have a HTML cover page, only the image.</p>
<p>These "semantics" all create entries in the opf file, the TOC and Start in the "Guide" at the end; the cover image in the "meta' and "manifest".</p>
<p><a href="https://www.mobileread.com/forums/showpost.php?p=3557815&amp;postcount=4">Kindle Reviewer 3 says there's no TOC</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
